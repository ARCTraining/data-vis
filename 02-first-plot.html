

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Building your first plot: scatter plots &#8212; Introduction to Data Visualisation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '02-first-plot';</script>
    <link rel="canonical" href="https://arctraining.github.io/data-vis-101/02-first-plot.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Making comparisons: line plots" href="03-comparison-line-plots.html" />
    <link rel="prev" title="Loading in data" href="01b-loading-data.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="welcome.html">
  
  
  
  
  
  
    <p class="title logo__title">Introduction to Data Visualisation</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="welcome.html">
                    Welcome
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="start.html">Introduction to Data Visualisation, with Python</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01-introduction.html">Introduction</a></li>

<li class="toctree-l2"><a class="reference internal" href="01b-loading-data.html">Loading in data</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Building your first plot: scatter plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="03-comparison-line-plots.html">Making comparisons: line plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="04-distribution-histogram.html">Assessing distributions: histograms</a></li>

<li class="toctree-l2"><a class="reference internal" href="05-composition-bar-charts.html">Understanding composition: bar charts</a></li>
<li class="toctree-l2"><a class="reference internal" href="06-heatmaps.html">Spatial distributions and correlation: heatmaps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://arc.leeds.ac.uk">Research Computing Website</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ARCTraining/data-vis-101" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ARCTraining/data-vis-101/edit/main/docs/02-first-plot.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ARCTraining/data-vis-101/issues/new?title=Issue%20on%20page%20%2F02-first-plot.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/02-first-plot.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Building your first plot: scatter plots</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-the-tools-we-are-using">Introduction to the tools we are using</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#some-useful-keyboard-shortcuts">Some useful keyboard shortcuts</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#refresher-on-the-python-ecosystem">Refresher on the Python ecosystem</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-some-example-data">Create some example data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#make-a-basic-scatter-plot">Make a basic scatter plot</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-initialise-a-basic-figure">How do I initialise a basic figure?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-plot-my-data">How do I plot my data?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-add-labels">How do I add labels?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-save-this-figure-to-my-machine">How do I save this figure to my machine?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-next">What next…</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scatter-plot-template">Scatter plot template</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dealing-with-overlap">Dealing with overlap</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visual-encoding-and-additional-variables">Visual encoding and additional variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#unordered-or-categorical-third-dimension">Unordered or categorical third dimension</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#colour">Colour</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shape">Shape</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ordered-third-dimension">Ordered third dimension</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Colour</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#size">Size</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="building-your-first-plot-scatter-plots">
<h1>Building your first plot: scatter plots<a class="headerlink" href="#building-your-first-plot-scatter-plots" title="Permalink to this heading">#</a></h1>
<p>Before we delve a little deeper into some of the concepts we introduced in the previous section with regards to what makes a graphic “good”, let’s lay the foundations and build our first plot. You need a draft to start improving on it!</p>
<p>In this course, we are going to be using a cloud-based development environment, so you don’t have to install anything locally on your machine.</p>
<p>In this session, we are going to work step-by-step through building a basic plot. The full self-contained example script is given at the end of this page.</p>
<div class="tip admonition">
<p class="admonition-title">Tip</p>
<p>It’s a good idea to type the example code out in your notebook as opposed to copying and pasting. This will help you get used to the syntax and will allow you to improve your skills more rapidly.</p>
</div>
<section id="introduction-to-the-tools-we-are-using">
<h2>Introduction to the tools we are using<a class="headerlink" href="#introduction-to-the-tools-we-are-using" title="Permalink to this heading">#</a></h2>
<p>For this course, we are going to be using a particular tool for interacting with Python called a “Notebook”. You may have heard of the Jupyter Notebook before: this is a document format that includes snippets of formatted text, embedded executable/runnable code, and the output of said code (for example, plots/figures). We are going to be using an online version of Jupyter Notebooks hosted by Google, called <a class="reference external" href="https://colab.google/">Google Colaboratory</a>; the free version provides plenty compute power for this tutorial.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p><img alt="image" src="_images/intro_to_colab.gif" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Click “New Notebook” to create a fresh file. <em>Alt text: gif of Google Colab’s landing page, showing the “New Notebook” button being clicked.</em></p></td>
</tr>
</tbody>
</table>
<p>Open up a new notebook for this session: click “New Notebook”, then give the new file a sensible name. In a Python Notebook, you can create two different types of cells: a text cell, which can contain markdown-formatted text, and code cells, where you put Python code and can run it.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p><img alt="image" src="_images/intro_to_colab2.gif" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Hover the cursor over the bottom edge of the cell to show the options for a new text cell or code cell. <em>Alt text: gif of Google Colab’s new notebook page, showing the new text cell and new code cell menu.</em></p></td>
</tr>
</tbody>
</table>
<p>Try out the classic first program, “Hello World” from the first code cell, and click the run cell button to the left of the cell, or use the keyboard shortcut Ctrl + Enter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello World!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The first cell may take a while to run as Colab connects to the runtime, but shortly it should output <code class="docutils literal notranslate"><span class="pre">Hello</span> <span class="pre">World!</span></code> below your first code cell.</p>
<section id="some-useful-keyboard-shortcuts">
<h3>Some useful keyboard shortcuts<a class="headerlink" href="#some-useful-keyboard-shortcuts" title="Permalink to this heading">#</a></h3>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Action</p></th>
<th class="head text-left"><p>Shortcut</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Create new code cell</p></td>
<td class="text-left"><p>Ctrl + M B</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Execute code cell</p></td>
<td class="text-left"><p>Shift + Enter</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="refresher-on-the-python-ecosystem">
<h2>Refresher on the Python ecosystem<a class="headerlink" href="#refresher-on-the-python-ecosystem" title="Permalink to this heading">#</a></h2>
<p>One of the pre-requisites for this course is some basic Python experience, but don’t worry if you’ve forgotten how things work. For this course, we will be <em>importing</em> a variety of different libraries. Do this in the first cell of your notebook:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span>
<span class="kn">import</span> <span class="nn">numpy</span>
</pre></div>
</div>
<p>When we use a <em>function</em> from one of these libraries, we need to prefix it with the module name, for example <code class="docutils literal notranslate"><span class="pre">numpy.loadtxt()</span></code>.
In this course, we will be using some common shortened names/aliases for libraries, that saves us typing out the full name every time we use them. You can replace the above code snippet with this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
<p>The example <code class="docutils literal notranslate"><span class="pre">numpy.loadtxt()</span></code> above would now be instead written <code class="docutils literal notranslate"><span class="pre">np.loadtxt()</span></code>.</p>
</section>
<section id="create-some-example-data">
<h2>Create some example data<a class="headerlink" href="#create-some-example-data" title="Permalink to this heading">#</a></h2>
<p>In the next section of this course, we will run through how to load real data in in a variety of different ways. For this initial example, we are going to quickly generate some example data. Let’s assume we want to create a <strong>scatter plot</strong> with 50 pairs of (x, y) data. Let’s write some code that will generate 50 random numbers between zero and one.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create random x and y data</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
<div class="tip admonition">
<p class="admonition-title">Tip</p>
<p>You can add comments to your code using the # symbol; this text is skipped over when you tell the code to run; it is just for you or anyone else who reads your code to better understand what you are doing.</p>
</div>
<p>You can take a closer look at what this has produced by executing a cell that only contains <code class="docutils literal notranslate"><span class="pre">x</span></code> or <code class="docutils literal notranslate"><span class="pre">y</span></code>, or <code class="docutils literal notranslate"><span class="pre">print(x)</span></code>, <code class="docutils literal notranslate"><span class="pre">print(y)</span></code> (what is the difference between <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">print(x)</span></code> in terms of output?).</p>
</section>
<section id="make-a-basic-scatter-plot">
<h2>Make a basic scatter plot<a class="headerlink" href="#make-a-basic-scatter-plot" title="Permalink to this heading">#</a></h2>
<p>Here’s a step-by-step run-through of how to build a basic scatter plot. A template is given at the end of these instructions.</p>
<section id="how-do-i-initialise-a-basic-figure">
<h3>How do I initialise a basic figure?<a class="headerlink" href="#how-do-i-initialise-a-basic-figure" title="Permalink to this heading">#</a></h3>
<p>So you have your data and you want to build a scatter plot to see if there’s any relationship between x and y.</p>
<p>To create a plot in Python, we will always follow a few key steps.</p>
<p>First, we initialise the figure and the axes. The <code class="docutils literal notranslate"><span class="pre">figure</span></code> object can be thought of as the page you draw your plot onto. The <code class="docutils literal notranslate"><span class="pre">ax</span></code> object is the box drawn by the x and y axes, the “panel” your plot will be drawn in.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a figure and axes objects</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">subplots</span></code> function has the prefix <code class="docutils literal notranslate"><span class="pre">plt</span></code> because it’s from the <code class="docutils literal notranslate"><span class="pre">matplotlib.pyplot</span></code> library that we loaded early and assigned the shortened name <code class="docutils literal notranslate"><span class="pre">plt</span></code>.
If you run this code, you should get an empty figure that looks something like this:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p><img alt="image" src="_images/empty_fig.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Empty axes without any data plotted. <em>Alt text: white rectangle area surrounded by x and y axes, with labels from 0-1 on both. No data points are plotted.</em></p></td>
</tr>
</tbody>
</table>
<p>You can change the size of the <code class="docutils literal notranslate"><span class="pre">fig</span></code> object using the <code class="docutils literal notranslate"><span class="pre">figsize</span></code> argument; this takes inches by default.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a figure and axes, and set the figure size</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="how-do-i-plot-my-data">
<h3>How do I plot my data?<a class="headerlink" href="#how-do-i-plot-my-data" title="Permalink to this heading">#</a></h3>
<p>In this example, we are creating a very simple scatter plot using the (x, y) pairs we created earlier. We can use the <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> <code class="docutils literal notranslate"><span class="pre">scatter</span></code> function to do this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the data</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>The prefix <code class="docutils literal notranslate"><span class="pre">ax</span></code> before <code class="docutils literal notranslate"><span class="pre">.scatter</span></code> tells this function that the scatter plot is to be drawn on the axes you set up earlier. We’ll later look at how this works for a multipart figure where you have a number of different panels/axes showing different things. This will produce a basic scatter plot using the default <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> aesthetic settings; it should look something like the figure below.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p><img alt="image" src="_images/scatter_no_label.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Basic scatterplot with no labels or title. <em>Alt text: white rectangle area surrounded by x and y axes, with labels from 0-1 on both. Random data is plotted as large blue dots.</em></p></td>
</tr>
</tbody>
</table>
<div class="dropdown admonition">
<p class="admonition-title">But I’ve seen/used <em>plt.scatter(x,y)</em> before… what’s the difference?</p>
<p>In Matplotlib, there are two different approaches to making a plot.
One is <em>object oriented</em> and the other is <em>procedural</em>…
Essentially, these two terms are used to describe different programming languages and how they approach handling variables, data, and functions.</p>
<p>In general, Python is an <em>object oriented</em> programming language, which means it uses <em>objects</em> to get things done; in the code snippets above, the <code class="docutils literal notranslate"><span class="pre">fig</span></code> object is the box where everything relating to the plot goes, the <code class="docutils literal notranslate"><span class="pre">ax</span></code> object is a smaller box inside this that takes everything relating to that one panel of the plot. Because this is the approach taken in the Python language in general, this is the approach we will take as it helps to keep things consistent.</p>
<p>In contrast, the popular scientific programming language <em>Matlab</em> uses a procedural approach to plotting figures. <em>Matplotlib</em> was designed to emulate this, to allow users to swap to Python; this means you can <em>also</em> create plots without ever initialising a <code class="docutils literal notranslate"><span class="pre">fig</span></code> or <code class="docutils literal notranslate"><span class="pre">ax</span></code> object explicitly. This is an completely valid approach, but to avoid confusion we will be sticking to the <em>object oriented</em> way of plotting in this course.</p>
<p>Do not worry if this doesn’t make sense - the key take-away is that when searching through examples or reading other people’s code, you may see things done in a way that looks very similar, but uses subtly different function names - this is why!</p>
<p>If you’re interested and want to learn more, <a class="reference external" href="https://neuraldatascience.io/4-viz/proc_vs_oo.html#procedural-versus-object-oriented-plotting-in-matplotlib">this</a> is a good starting point.</p>
</div>
</section>
<section id="how-do-i-add-labels">
<h3>How do I add labels?<a class="headerlink" href="#how-do-i-add-labels" title="Permalink to this heading">#</a></h3>
<p>Plots like this do not convey the required information unless they have axes labels. Since this is not real data, we can just call the values on the x-axis “X” and the values on the y-axis “Y” - we don’t have any units to add.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set title and labels</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Scatter Plot&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>
</pre></div>
</div>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p><img alt="image" src="_images/scatter.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Basic scatterplot with axes labels and a title. <em>Alt text: a scatter plot of random data with both x and y in the range [0, 1]; data is represented by blue dots. The figure title reads “Scatter Plot”.</em></p></td>
</tr>
</tbody>
</table>
<p>You’ve just made your very first plot with Python!</p>
</section>
<section id="how-do-i-save-this-figure-to-my-machine">
<h3>How do I save this figure to my machine?<a class="headerlink" href="#how-do-i-save-this-figure-to-my-machine" title="Permalink to this heading">#</a></h3>
<p>There are a number of different ways to save a plot out of Google Colab.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p><img alt="image" src="_images/save_screenshot.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Right click on the output figure to save it to your machine. <em>Alt text: a screenshot of the context menu after right-clicking your output figure, including the option to “Save image as…”</em></p></td>
</tr>
</tbody>
</table>
<p>You can just right click/control-click the output image and either select “Save image as…” as shown in the above screenshot, or copy the output to a Powerpoint or similar. This option does not let you control resolution or image format.</p>
<p>Alternatively, you can use the <code class="docutils literal notranslate"><span class="pre">savefig</span></code> function to save the output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;your_figure_name_goes_here.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you add this to your code and run it, you can access the saved file from the files menu on the left of the screen (the folder symbol).</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p><img alt="image" src="_images/save_fig.gif" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Use the files menu to access figures saved during the runtime. <em>Alt text: a gif showing how to navigate to the saved file via the files menu on the left of the screen.</em></p></td>
</tr>
</tbody>
</table>
<div class="tip admonition">
<p class="admonition-title">Tip</p>
<p>Files saved here are only accessible while your virtual machine is up and running - once you close Colab, Google kills the machine you were using and everything you had saved is wiped. If you want your figure to survive, make sure to download them - or just accept that you need to replot them when you want them again!</p>
</div>
</section>
<section id="what-next">
<h3>What next…<a class="headerlink" href="#what-next" title="Permalink to this heading">#</a></h3>
<p>You save your figure, but the resolution isn’t what you need - you want to use it in a presentation and when you add it to your slideshow, it looks pixelated and low-quality. How do we do this? Well, let’s have our first look at the official Matplotlib documentation!</p>
<p><a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.savefig.html">Here’s the documentation</a> for the <code class="docutils literal notranslate"><span class="pre">savefig</span></code> function. What can we learn from this?</p>
<p>We’re shown a little code-snippet called the call signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">savefig</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">transparent</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="s1">&#39;figure&#39;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">metadata</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pad_inches</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
        <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">backend</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span>
       <span class="p">)</span>
</pre></div>
</div>
<p>This essentially shows us all the possible options we can <em>pass</em> to the <code class="docutils literal notranslate"><span class="pre">savefig</span></code> function. These are called <em>arguments</em>. The first option, <code class="docutils literal notranslate"><span class="pre">fname</span></code> is what we passed before, when we entered <code class="docutils literal notranslate"><span class="pre">&quot;your_figure_name_goes_here.png&quot;</span></code>. This is a required argument: the <code class="docutils literal notranslate"><span class="pre">savefig</span></code> function won’t work without it. All the other arguments are <em>optional</em>, and have defaults assigned with equals, for example <code class="docutils literal notranslate"><span class="pre">dpi='figure'</span></code>. This means that the dpi or dots-per-inch (a measure of resolution) is set to a default value for the figure (100 dpi by default in Matplotlib). If we scroll down past the call signature code snippet, we can see all the different arguments and a description for each. For <code class="docutils literal notranslate"><span class="pre">dpi</span></code>,</p>
<blockquote>
<div><p><strong>dpi : float or ‘figure’, default:</strong> <code class="docutils literal notranslate"><span class="pre">rcParams[&quot;savefig.dpi&quot;]</span></code> <strong>(default:</strong> <code class="docutils literal notranslate"><span class="pre">'figure'</span></code><strong>)</strong>
The resolution in dots per inch. If ‘figure’, use the figure’s dpi value.</p>
</div></blockquote>
<p>This essentially tells you what we explain above, that the default value is set by the figure, which unless you have changed something, Matplotlib sets to 100 dpi (which you can find in the documentation for the <code class="docutils literal notranslate"><span class="pre">figure</span></code> object <a class="reference external" href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.figure.html">here</a>). It also tells you that <code class="docutils literal notranslate"><span class="pre">dpi</span></code> can be set to a float value (such as 10.0, 300, 473.5 etc.) or to the default <code class="docutils literal notranslate"><span class="pre">'figure'</span></code>. Assignment is done using an equals sign. Note, all optional arguments can be excluded from the function call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">savefig</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="n">some_number_here</span>
       <span class="p">)</span>
</pre></div>
</div>
<div class="admonition-challenge admonition">
<p class="admonition-title">Challenge</p>
<p>Change the dpi and size of your figure to allow it to be printed on a poster as a high-quality 10 inch <span class="math notranslate nohighlight">\(\times\)</span> 10 inch square. What dpi is recommended for printing? How do dpi and figure size interact?</p>
</div>
<div class="admonition-challenge admonition">
<p class="admonition-title">Challenge</p>
<p>Save the figure in a <em>vector</em> format such as a <code class="docutils literal notranslate"><span class="pre">.pdf</span></code> or <code class="docutils literal notranslate"><span class="pre">.svg</span></code> instead of a <code class="docutils literal notranslate"><span class="pre">.png</span></code>. How might the <code class="docutils literal notranslate"><span class="pre">dpi</span></code> value work when saving a vector format image?</p>
</div>
</section>
<section id="scatter-plot-template">
<h3>Scatter plot template<a class="headerlink" href="#scatter-plot-template" title="Permalink to this heading">#</a></h3>
<p>This code snippet plots a scatter plot in a figure that’s 7 <span class="math notranslate nohighlight">\(\times\)</span> 4 inches, with a dpi of 300, in png format.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the required libraries</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Create random x and y data</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># Create a figure and axes, and set the figure size in inches</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1"># Plot the data as a scatter plot</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># Set title and labels</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Scatter Plot&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>

<span class="c1"># Save the figure</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;figure_name.png&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="dealing-with-overlap">
<h3>Dealing with overlap<a class="headerlink" href="#dealing-with-overlap" title="Permalink to this heading">#</a></h3>
<p>The examples above have very sparsely distributed data, but what about if you have data that overlaps?</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p><img alt="alt text" src="_images/image-5.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Dense data can overlap, making it difficult to interpret. <em>Alt text: a scatter plot with normally distributed data from -3 – 3 on both the x and y axis.</em></p></td>
</tr>
</tbody>
</table>
<p>We can solve this by modifying the “alpha” or transparency of the points by replacing <code class="docutils literal notranslate"><span class="pre">ax.scatter(x,</span> <span class="pre">y)</span></code> with:</p>
<p><code class="docutils literal notranslate"><span class="pre">ax.scatter(x,</span> <span class="pre">y,</span> <span class="pre">alpha=0.5)</span></code></p>
<p>This allows you to more easily see where there are clusters of data:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p><img alt="alt text" src="_images/image-6.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Dense data can be plotted with lower opacity, allowing overlap to be better understood. <em>Alt text: a scatter plot with normally distributed data from -3 – 3 on both the x and y axis.</em></p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="visual-encoding-and-additional-variables">
<h2>Visual encoding and additional variables<a class="headerlink" href="#visual-encoding-and-additional-variables" title="Permalink to this heading">#</a></h2>
<p>So far, we have created a random data set and plotted it using the default settings provided by <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>: we have left the marker style, size and colour exactly as they are (apart from the brief discussion of overlapping data, above); each data point is identical.</p>
<p>This is sufficient if we only want to address the relationship between two variables <em>x</em> and <em>y</em>. But frequently, we will want to</p>
<p>Sophie Warnes provides us with a list of ways data can be encoded in her 2018 medium article
<a class="reference external" href="https://medium.com/&#64;sophiewarnes/whats-visual-encoding-in-data-viz-and-why-is-it-important-7406bc88b4b4">“What’s visual ‘encoding’ in data viz, and why is it important?”</a>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Size</p></li>
<li><p>Shape</p></li>
<li><p>Colour</p></li>
<li><p>Grouping</p></li>
<li><p>Area</p></li>
<li><p>Position</p></li>
<li><p>Saturation</p></li>
<li><p>Line pattern</p></li>
<li><p>Line weight</p></li>
<li><p>Angle</p></li>
<li><p>Connections</p></li>
</ul>
</div></blockquote>
<p>Some of these (line weight, connections etc.) are more applicable to line plots, and will be covered in the next session, but properties such as the size, shape and colour of the markers can allow us to add another dimension to our scatter plot.</p>
</section>
<section id="unordered-or-categorical-third-dimension">
<h2>Unordered or categorical third dimension<a class="headerlink" href="#unordered-or-categorical-third-dimension" title="Permalink to this heading">#</a></h2>
<p>In the example code given, we defined x and y variables. What if these (x,y) pairs could be divided up into different groups or categories? Let’s assume for now, these different groups are stored separately:</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p>Category</p></th>
<th class="head text-left"><p>Data</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Cat. 1</p></td>
<td class="text-left"><p><em>(x1, y1)</em></p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p>Cat. 2</p></td>
<td class="text-left"><p><em>(x2, y2)</em></p></td>
</tr>
<tr class="row-even"><td class="text-left"><p>Cat. 3</p></td>
<td class="text-left"><p><em>(x3, y3)</em></p></td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">x1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">y1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="n">x2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">y2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>

<span class="n">x3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="n">y3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
<p>We can use an almost-identical script to plot these results, just adding in additional lines of code for the new data series:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a figure and axes, and set the figure size in inches</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1"># Plot the data as a scatter plot</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">)</span> <span class="c1"># just repeat for the different data series</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x3</span><span class="p">,</span> <span class="n">y3</span><span class="p">)</span> <span class="c1"># just repeat for the different data series</span>

<span class="c1"># Set title and labels</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Scatter Plot&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Because we now have an additional element aside from x,y position encoding our data, we need to include a legend. We must add labels to each of the data series:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;(x1, y1)&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;(x2, y2)&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x3</span><span class="p">,</span> <span class="n">y3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;(x3, y3)&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Then we can add in a legend:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p><img alt="alt text" src="_images/image-7.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Scatter plot with three separate categories. Matplotlib will cycle through a default colour palette for each new data series added. What’s an issue with this plot? (hint - look at the legend)</p></td>
</tr>
</tbody>
</table>
<div class="dropdown admonition">
<p class="admonition-title">Legend blocking some data?</p>
<p>Matplotlib attempts to draw the legend in an area where it’s overlapping the least amount of data, but sometimes there just isn’t room. We can move the legend off the plotting area by replacing the <code class="docutils literal notranslate"><span class="pre">ax.legend()</span></code> function call with this:</p>
<p><code class="docutils literal notranslate"><span class="pre">ax.legend(bbox_to_anchor=(0.5,</span> <span class="pre">1.2),</span> <span class="pre">loc='upper</span> <span class="pre">center',</span> <span class="pre">ncol=3,</span> <span class="pre">frameon=False)</span></code></p>
<p>We will look at this in more detail in a <a class="reference external" href="https://arctraining.github.io/data-vis/05-composition-bar-charts.html#comparing-composition">later session</a>.</p>
</div>
<section id="colour">
<h3>Colour<a class="headerlink" href="#colour" title="Permalink to this heading">#</a></h3>
<p>Matplotlib automatically assigns a different colour to the different data series, but this only one of the ways data can be encoded. The Seaborn documentation provides a really useful <a class="reference external" href="https://seaborn.pydata.org/tutorial/color_palettes.html">introduction to colour</a>. We will delve into using colour more deeply over the next few sessions, but there are a few key points to note now:</p>
<ul class="simple">
<li><p>Hue usually shouldn’t be the <em>only</em> way you visually encode data; it can be difficult to distinguish on some screens or when printed, might be illegible if printed in greyscale, and could be inaccessible to someone with a colour vision deficiency. In the session <a class="reference external" href="https://arctraining.github.io/data-vis/03-comparison-line-plots.html#part-2-changing-default-settings">“Making comparisons: line plots”</a> we will look more closely at colour choices.</p></li>
</ul>
</section>
<section id="shape">
<h3>Shape<a class="headerlink" href="#shape" title="Permalink to this heading">#</a></h3>
<p>The shape of the marker can also be modified. Matplotlib allows a wide range of <a class="reference external" href="https://matplotlib.org/stable/api/markers_api.html">marker styles</a> to be used. We will use these in the session <a class="reference external" href="https://arctraining.github.io/data-vis/03-comparison-line-plots.html#part-2-changing-default-settings">“Making comparisons: line plots”</a>.</p>
</section>
</section>
<section id="ordered-third-dimension">
<h2>Ordered third dimension<a class="headerlink" href="#ordered-third-dimension" title="Permalink to this heading">#</a></h2>
<p>In the example code given, we defined x and y variables. What if we also defined a z variable that is similar in structure to x and y (is an array of the same size, filled with similar random data)? We are going to explore the ways to display this third dimension.</p>
<p>We can define random x, y and z data. We’re going to use the <code class="docutils literal notranslate"><span class="pre">randn</span></code> function to get pseudo random normally distributed data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define random x, y, z data</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span>
</pre></div>
</div>
<section id="id1">
<h3>Colour<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h3>
<p>Again, we can use colour to define the third dimension. In this case, because we want to show variation in <code class="docutils literal notranslate"><span class="pre">z</span></code>, which is a continuous variable and not categorical, we will use a <em>colour map</em>. The default colour map that <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> uses is called Viridis, and it’s a good choice for scientific visualisation - we will discuss why later!</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a figure and axes, and set the figure size in inches</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1"># Plot the data as a scatter plot</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">z</span><span class="p">)</span> <span class="c1"># alpha changes the opacity</span>

<span class="c1"># Set title and labels</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Scatter Plot&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;X&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also use a diverging colour map, and make the markers a little bigger to make it more easily readable.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p><img alt="alt text" src="_images/image-8.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Caption <em>Alt text: here</em></p></td>
</tr>
</tbody>
</table>
<p>You can recreate this with the following code snippet:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the data as a scatter plot</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">z</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;coolwarm&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>Of course, it’s important to include a colour scale so that people know what the colours represent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the data as a scatter plot</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">z</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;coolwarm&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p><img alt="alt text" src="_images/image-9.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Caption <em>Alt text: here</em></p></td>
</tr>
</tbody>
</table>
</section>
<section id="size">
<h3>Size<a class="headerlink" href="#size" title="Permalink to this heading">#</a></h3>
<p>Another option for continuous data is to allow size to vary according to the third variable. As you can see from the example above, size can be set with the argument <code class="docutils literal notranslate"><span class="pre">s=10</span></code>. This value defines the area of the marker. In addition to defining the size of all the points with a <em>scalar</em> value, you can also pass in a variable or equation, for example the <code class="docutils literal notranslate"><span class="pre">z</span></code> variable, or <code class="docutils literal notranslate"><span class="pre">sin(x)</span></code>, or <code class="docutils literal notranslate"><span class="pre">100*z**2</span></code>. It’s important to know how the change in size be perceived by your audience before you use this.</p>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p><img alt="alt text" src="_images/image-10.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Caption <em>Alt text: here</em></p></td>
</tr>
</tbody>
</table>
<p>We can apply this to our scatter plot:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot the data as a scatter plot</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">z</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;coolwarm&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="o">*</span><span class="n">z</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p><img alt="alt text" src="_images/image-11.png" /></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p>Caption <em>Alt text: here</em></p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="01b-loading-data.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Loading in data</p>
      </div>
    </a>
    <a class="right-next"
       href="03-comparison-line-plots.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Making comparisons: line plots</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction-to-the-tools-we-are-using">Introduction to the tools we are using</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#some-useful-keyboard-shortcuts">Some useful keyboard shortcuts</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#refresher-on-the-python-ecosystem">Refresher on the Python ecosystem</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#create-some-example-data">Create some example data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#make-a-basic-scatter-plot">Make a basic scatter plot</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-initialise-a-basic-figure">How do I initialise a basic figure?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-plot-my-data">How do I plot my data?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-add-labels">How do I add labels?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-do-i-save-this-figure-to-my-machine">How do I save this figure to my machine?</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-next">What next…</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#scatter-plot-template">Scatter plot template</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dealing-with-overlap">Dealing with overlap</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visual-encoding-and-additional-variables">Visual encoding and additional variables</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#unordered-or-categorical-third-dimension">Unordered or categorical third dimension</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#colour">Colour</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#shape">Shape</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ordered-third-dimension">Ordered third dimension</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Colour</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#size">Size</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By University of Leeds Research Computing Team
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>